<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="https://necolas.github.io/normalize.css/5.0.0/normalize.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <title></title>
</head>

<body onload="fadein()">
    <header>
        <h1>Soy un header</h1>
    </header>
    <p>
        Soy un parrafo
    </p>
    <section class="hidden" id="1">
        Hello World
    </section>
    <button type="button" onclick="load()">Press me for a Joke</button>
    <footer>
        Soy un footer
    </footer>

</body>
<script>
        function fadein() {
            document.getElementById('1').className = 'sect';
        }
        function makeRequest(method, url) {
            return new Promise(function (resolve, reject) {
                var xhr = new XMLHttpRequest();
                xhr.open(method, url);
                xhr.onload = function () {
                    if (this.status >= 200 && this.status < 300) {
                        resolve(xhr.response);
                    } else {
                        reject({
                            status: this.status,
                            statusText: xhr.statusText
                        });
                    }
                };
                xhr.onerror = function () {
                    reject({
                        status: this.status,
                        statusText: xhr.statusText
                    });
                };
                xhr.send();
            });
        }
        function load() {
            makeRequest('GET', 'http://api.icndb.com/jokes/random')
                .then(function (value) {
                    content = JSON.parse(value)
                    document.getElementById("1").innerHTML = content.value.joke
                })
                .catch(function (err) {
                    console.error('Error!', err.statusText);
                });
        }

</script>

</html>